<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>NIH Awards — Calendar YTD 2025 vs 2024</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 16px; }
    .grid { display: grid; grid-template-columns: 260px 1fr; gap: 16px; align-items: start; }
    .panel { border: 1px solid #e2e2e2; border-radius: 12px; padding: 12px; }
    .kpis { display: flex; gap: 16px; flex-wrap: wrap; margin-bottom: 8px; }
    .kpi { border: 1px solid #e2e2e2; border-radius: 10px; padding: 8px 10px; min-width: 140px; }
    label { display:block; font-weight:600; margin-top: 8px; margin-bottom: 4px; }
    select, input[type="checkbox"] { width: 100%; padding: 6px; }
    .note { color:#666; font-size: 12px; margin-top: 8px; }
  </style>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
  <h1 style="margin-top:0;">NIH Awards — Calendar YTD 2025 vs 2024</h1>
  <div class="kpis" id="kpis">
    <div class="kpi"><div>2025 YTD</div><div id="k2025" style="font-weight:700;"></div></div>
    <div class="kpi"><div>2024 YTD</div><div id="k2024" style="font-weight:700;"></div></div>
    <div class="kpi"><div>2025 / 2024</div><div id="kperc" style="font-weight:700;"></div></div>
  </div>

  <div class="grid">
    <div class="panel">
      <label for="inst">Institution</label>
      <select id="inst"></select>

      <label for="ics">Institute(s)</label>
      <select id="ics" multiple size="6"></select>

      <label for="mech">Mechanism</label>
      <select id="mech" multiple size="5"></select>

      <label for="act">Activity code(s)</label>
      <select id="act" multiple size="6"></select>

      <label style="margin-top:12px;">Award types</label>
      <div><label><input type="checkbox" id="inclRenewal"> Include Competing Renewals</label></div>
      <div><label><input type="checkbox" id="inclSupp"> Include Supplements</label></div>

      <div class="note" id="metaNote"></div>
    </div>

    <div class="panel">
      <div id="chart" style="height:520px;"></div>
    </div>
  </div>

  <script src="./js/ytd.js"></script>
</body>
</html>
